var payload = `110::1::17::1::41121::1670851095747_1_232.67_648.00_1_7_31_260|1670850427833_2_154.67_24.00_1_7_111_1110|1670850433199_1_56.00_490.67_1_7_163_1680|1670850436116_2_360.00_120.67_1_7_186_1960|1670850456198_1_56.00_490.67_1_7_50_3550|1670850457431_2_266.67_648.00_1_7_66_3760|1670850464497_1_328.67_136.00_1_7_144_4590|1670850470180_1_154.67_24.00_1_7_198_5180|1670850488281_1_56.00_490.67_1_7_37_6520|1670850489929_2_154.67_24.00_1_7_59_6790|1670850497729_2_360.00_120.67_1_7_146_7710|1670850507945_1_232.67_648.00_1_7_238_8680|1670850521477_2_232.67_648.00_1_7_96_10210|1670850525261_1_120.67_24.00_1_7_143_10730|1670850530527_1_360.00_120.67_1_7_195_11300|1670850544993_1_56.00_490.67_1_7_293_12330|1670850545111_1_56.00_479.00_1_7_1_12350|1670850547243_2_154.67_24.00_1_7_22_12610|1670850556842_2_360.00_120.67_1_7_131_13760|1670850560642_1_232.67_648.00_1_7_176_14260|1670850578474_1_360.00_120.67_1_7_38_15830|1670850582007_1_154.67_24.00_1_7_82_16320|1670850582840_2_56.00_490.67_1_7_92_16470|1670850593057_2_266.67_648.00_1_7_202_17620|1670850608239_1_120.67_24.00_1_7_77_19320|1670850610456_2_232.67_648.00_1_7_101_19610|1670850613508_1_360.00_120.67_1_7_141_20060|1670850617522_2_56.00_490.67_1_7_186_20560|1670850632855_1_56.00_457.33_1_7_44_22090|1670850632987_2_328.67_136.00_1_7_46_22160|1670850638423_2_154.67_24.00_1_7_106_22810|1670850654920_2_266.67_648.00_1_7_257_24370|1670850668386_2_232.67_648.00_1_7_90_25650|1670850672535_1_120.67_24.00_1_7_143_26230|1670850677569_2_56.00_490.67_1_7_192_26770|1670850677668_1_360.00_120.67_1_7_194_26840|1670850696884_2_122.33_24.00_1_7_84_28690|1670850697686_1_56.00_457.33_1_7_94_28840|1670850702169_2_360.00_120.67_1_7_147_29420|1670850707233_1_232.67_648.00_1_7_207_30070|1670850725266_2_328.67_136.00_1_7_77_31720|1670850729716_1_266.67_648.00_1_7_130_32300|1670850730515_2_154.67_24.00_1_7_141_32460|1670850742237_1_56.00_490.67_1_7_260_33700|1670850755064_1_328.67_136.00_1_7_89_34940|1670850759013_2_232.67_648.00_1_7_129_35390|1670850760413_1_154.67_24.00_1_7_147_35620|1670850766381_2_56.00_490.67_1_7_214_36340|1670850782879_2_266.67_648.00_1_7_41_37560|1670850792095_1_328.67_136.00_1_7_147_38670|1670850797564_1_154.67_24.00_1_7_196_39210|1670850808080_1_56.00_457.33_1_7_286_40160|1670850816694_2_120.67_24.00_1_7_87_41120|1670850821976_2_360.00_120.67_1_7_147_41760|1670850827326_1_56.00_457.33_1_7_196_42310|1670850836209_2_266.67_648.00_1_7_279_43190|1670850850578_2_121.67_24.00_1_7_15_43490|1670850856808_1_266.67_648.00_1_7_82_44220|1670850861393_2_328.67_136.00_1_7_127_44720|1670850872907_1_56.00_490.67_1_7_211_45610|1670850888589_2_328.67_136.00_1_7_72_47170|1670850889322_1_266.67_648.00_1_7_82_47320|1670850893856_2_154.67_24.00_1_7_135_47900|1670850899822_1_56.00_490.67_1_7_205_48650|1670850916454_2_120.67_24.00_1_7_81_50360|1670850919571_1_266.67_648.00_1_7_115_50750|1670850921540_2_360.00_120.67_1_7_139_51040|1670850931737_2_56.00_457.33_1_7_251_52210|1670850943836_1_154.67_24.00_1_7_8_52730|1670850970323_2_232.67_648.00_1_7_116_53860|1670851324186_6_224.50_504.00_3_2_154_54290|1670851324272_1_360.00_120.67_1_7_155_54300|1670851324286_2_216.00_500.00_2_6_155_54350|1670851349734_3_168.00_51.00_3_1_184_54840`;

// <eventType> :
// - 1: player eat super dot
// - 2: player eat ghost
// - 3: ghost eat player
// <objA> <objB>:
// - 1 :player 1
// - 2: player 2
// - 3: ghost 1
// - 4: ghost 2
// - 5: ghost 3
// - 6: ghost 4
// - 7: super dot
var getObjType = (n) => {
  return ['p1', 'p2', 'g1', 'g2', 'g3', 'g4', 'sd'][~~n - 1];
};
var getEventType = (n) => {
  return ['eat super dot', 'eat ghost', 'eat player'][~~n - 1];
};
var getResult = (pp) => {
  const columns = pp.split('::');
  // <remainDot>::<remainSuperDot>::<clearCount>::<dieCounts>::<gameRemainTime>::<gameRecore>
  // <time>_<objA>_<objAPositionX>_<objAPositionY>_<eventType>_<objB>_<currentDotsEaten>_<score>
  const [
    remainDot,
    remainSuperDot,
    clearCount,
    dieCounts,
    gameRemainTime,
    gameRecord,
  ] = columns;
  const record = gameRecord.split('|').map((item) => {
    const [
      time,
      objA,
      positionX,
      positionY,
      eventType,
      objB,
      eatenDots,
      score,
    ] = item.split('_');
    const date = new Date(~~time);
    return {
      time: `${date.getMinutes().toString().padStart(2, '0')}:${date
        .getSeconds()
        .toString()
        .padStart(2, '0')}`,
      objA: getObjType(objA),
      x: positionX,
      y: positionY,
      eventType: getEventType(eventType),
      objB: getObjType(objB),
      eatenDots,
      score,
    };
  });
  return {
    remainDot,
    remainSuperDot,
    clearCount,
    dieCounts,
    gameRemainTime,
    gameRecord,
    record,
    recordStr: record.map(
      ({ time, objA, eventType, objB, x, y }) =>
        `${time}_${objA}_${eventType.padStart(13, '_')}_${objB}_x:${x},y:${y}`
    ),
  };
};
console.log(getResult(payload));
